Date: Tue, 08 Mar 2016 11:52:12 +0000
From: Kiera Nicolas <betsy@labadielarson.biz>
To: virginie_hahn@dicki.net
Message-ID: <1b6bd1e0-c761-0133-ed4e-080027d0fd9d@labadielarson.biz>
Subject: Is it possigble to dynamically change view type in a RecyclerView?
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_56ded611c647c_118541a29ae91031";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_56ded611c647c_118541a29ae91031
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

I have a RecyclerView with 2 types of views and i want to change a single item view of type 1 in the recycler view to type 2, when an event is fired.

Here is the code for creating view holders

public override RecyclerView.ViewHolder OnCreateViewHolder (ViewGroup parent, int viewType)
{
    View itemView = null;
    ItemViewHolder vh = null;
    switch (viewType) {
    case FILE_UPLOADING:
        itemView = LayoutInflater.From (parent.Context).Inflate (Resource.Layout.ItemCardViewUploading, parent, false);
        vh = new UploadingItemViewHolder (itemView, OnClick, OnItemMenuClick);
        break;
    case FILE_DEFAULT:
        itemView = LayoutInflater.From (parent.Context).Inflate (Resource.Layout.ItemCardView, parent, false);
        vh = new ItemViewHolder (itemView, OnClick, OnItemMenuClick);
        break;
    }

    return vh;
}


When an UploadingItemViewHolder is created, a file is being uploaded and when the upload is done, an event is fired and i want to change the appearance of the item that was initially added with UploadingItemViewHolder to look like default ItemViewHolder.

Is it possible to change the type of view dynamically or do i have to remove the old item and add a new item?

Edit:

GetItemViewType() method:

public override int GetItemViewType (int position)
{
    if (itemList [position].Hash == null) //If hash is null, then the item upload is in progress
        return FILE_UPLOADING;
    return FILE_DEFAULT;
}

----==_mimepart_56ded611c647c_118541a29ae91031
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>I have a <code>RecyclerView</code> with 2 types of views and i want to change a single item view of type 1 in the recycler view to type 2, when an event is fired.</p>

<p>Here is the code for creating view holders</p>

<pre><code>public override RecyclerView.ViewHolder OnCreateViewHolder (ViewGroup parent, int viewType)
{
    View itemView = null;
    ItemViewHolder vh = null;
    switch (viewType) {
    case FILE_UPLOADING:
        itemView = LayoutInflater.From (parent.Context).Inflate (Resource.Layout.ItemCardViewUploading, parent, false);
        vh = new UploadingItemViewHolder (itemView, OnClick, OnItemMenuClick);
        break;
    case FILE_DEFAULT:
        itemView = LayoutInflater.From (parent.Context).Inflate (Resource.Layout.ItemCardView, parent, false);
        vh = new ItemViewHolder (itemView, OnClick, OnItemMenuClick);
        break;
    }

    return vh;
}
</code></pre>

<p>When an <code>UploadingItemViewHolder</code> is created, a file is being uploaded and when the upload is done, an event is fired and i want to change the appearance of the item that was initially added with <code>UploadingItemViewHolder</code> to look like default <code>ItemViewHolder</code>.</p>

<p>Is it possible to change the type of view dynamically or do i have to remove the old item and add a new item?</p>

<p><strong>Edit:</strong></p>

<p>GetItemViewType() method:</p>

<pre><code>public override int GetItemViewType (int position)
{
    if (itemList [position].Hash == null) //If hash is null, then the item upload is in progress
        return FILE_UPLOADING;
    return FILE_DEFAULT;
}
</code></pre>
----==_mimepart_56ded611c647c_118541a29ae91031--
