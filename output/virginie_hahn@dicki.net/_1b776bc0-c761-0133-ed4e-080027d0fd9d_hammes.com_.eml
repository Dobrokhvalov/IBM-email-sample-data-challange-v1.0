Date: Tue, 08 Mar 2016 13:19:26 +0000
From: Shanel Dickinson II <frederick@hammes.com>
To: virginie_hahn@dicki.net
Message-ID: <1b776bc0-c761-0133-ed4e-080027d0fd9d@hammes.com>
Subject: why does binary data from a file does not match the binary string
 used to create it?
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_56ded611d89d5_118541a29ae92210";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_56ded611d89d5_118541a29ae92210
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

i am trying to write a binary file from a 136 bit long (or longer) binary string. i am using java.
i use this code to create the binary string:

tmp_msg.append(String.format("%8s", Integer.toBinaryString(19)).replace(' ', '0'));


this is only an example, this line repeats itself many times.
i use the next code to generate the binary file:

public void generateMGA(String f_name) throws IOException{
    byte[] bytes = new BigInteger(this.msg_string.toString(),2).toByteArray();
    StringBuilder s = new StringBuilder();
    for (byte b : bytes) {
        s.append(String.format("%02X ", b));;
    }
    System.out.println(s.toString());
    DataOutputStream out = null;
    File file = new File(f_name);
    out = new DataOutputStream(new BufferedOutputStream(new FileOutputStream(file)));
    out.write(bytes2);
    out.close();
}


however the Hex values of the bytes that are written to the file does not match the binary string. 
what is causing it and how can i solve this problem?

any help would be appreciated. thank you.
----==_mimepart_56ded611d89d5_118541a29ae92210
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>i am trying to write a binary file from a 136 bit long (or longer) binary string. i am using java.
i use this code to create the binary string:</p>

<pre><code>tmp_msg.append(String.format("%8s", Integer.toBinaryString(19)).replace(' ', '0'));
</code></pre>

<p>this is only an example, this line repeats itself many times.
i use the next code to generate the binary file:</p>

<pre><code>public void generateMGA(String f_name) throws IOException{
    byte[] bytes = new BigInteger(this.msg_string.toString(),2).toByteArray();
    StringBuilder s = new StringBuilder();
    for (byte b : bytes) {
        s.append(String.format("%02X ", b));;
    }
    System.out.println(s.toString());
    DataOutputStream out = null;
    File file = new File(f_name);
    out = new DataOutputStream(new BufferedOutputStream(new FileOutputStream(file)));
    out.write(bytes2);
    out.close();
}
</code></pre>

<p>however the Hex values of the bytes that are written to the file does not match the binary string. 
what is causing it and how can i solve this problem?</p>

<p>any help would be appreciated. thank you.</p>
----==_mimepart_56ded611d89d5_118541a29ae92210--
