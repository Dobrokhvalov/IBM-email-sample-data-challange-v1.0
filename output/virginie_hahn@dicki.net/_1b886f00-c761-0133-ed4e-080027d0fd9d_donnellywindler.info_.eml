Date: Tue, 08 Mar 2016 13:41:29 +0000
From: Anna Quitzon <skyla@donnellywindler.info>
To: virginie_hahn@dicki.net
Message-ID: <1b886f00-c761-0133-ed4e-080027d0fd9d@donnellywindler.info>
Subject: How to copy files from an ansible role to the ansible main directory
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_56ded612169_118541a29ae938f2";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_56ded612169_118541a29ae938f2
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

I want to build an automatic deploy job for a remote git repository in jenkins which only contains a config file with playbook same syntax. Using ansible-galaxy I install necessary roles in the working directory. But I did not know what to do for inventory files and host variables.

I thought it would be good if I build an ansible role containing our local servers inventory files and host_Vars folder. So by installing that role on the ansible slave working directory and passing inventory name as an argument I could copy files related to that name in the ansible folder and use it in the next step as inventory files and vars for deploying on remote server.

First of all, does anyone has a better Idea for making an inventory file on the fly? Using local git server and repositories or shell commands?

Main question : How to copy those file from  a role to the very same directory of ansible? (it would be copied into ../.. directory of files.)
----==_mimepart_56ded612169_118541a29ae938f2
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>I want to build an automatic deploy job for a remote git repository in jenkins which only contains a config file with playbook same syntax. Using ansible-galaxy I install necessary roles in the working directory. But I did not know what to do for inventory files and host variables.</p>

<p>I thought it would be good if I build an ansible role containing our local servers inventory files and host_Vars folder. So by installing that role on the ansible slave working directory and passing inventory name as an argument I could copy files related to that name in the ansible folder and use it in the next step as inventory files and vars for deploying on remote server.</p>

<p>First of all, does anyone has a better Idea for making an inventory file on the fly? Using local git server and repositories or shell commands?</p>

<p>Main question : How to copy those file from  a role to the very same directory of ansible? (it would be copied into ../.. directory of files.)</p>
----==_mimepart_56ded612169_118541a29ae938f2--
